<% include parts/header.ejs %>

<div class="container">
  <% if (typeof(errors) !== 'undefined') { %>
    <!-- errors -->
    <% if (errors.loginFailed) { %>
      <div class="alert alert-danger alert-dismissible show" role="alert">
        <strong>Login failed!</strong> Please check your email address and password carefully.
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    <% } %>

    <% if (errors.databaseFailure) { %>
      <div class="alert alert-warning alert-dismissible show" role="alert">
        We are currently experiencing some technical difficulties. Please try again later.
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    <% } %>
  <% } %>
  <div class="row">
    <div class="col-sm">
        <h1>infosec<strong>aware</strong></h1>

        <p>infosec<strong>aware</strong> is a portal for sharing and solving information security risks and events.</p>

        <p>Please log in above with your username and password.</p>
    </div>
    <div class="col-sm">
      <h2>Sign up for an account</h2>

      <p>Use this form to create yourself an account</p>

      <% if ((typeof(errors) !== undefined) && (typeof(errors.account) !== undefined)) { %>
        <div class="alert alert-warning alert-dismissible show" role="alert">
          <strong>We could not create your account!</strong> Please check the following items:

          <ul>
            <% if (errors.account.passwordMismatch) { %>
              <li>Your passwords do not match. Please check these and try again.</li>
            <% } %>
            <% if (errors.account.badEmail) { %>
              <li>Please enter a valid email address.</li>
            <% } %>
            <% if (errors.account.badFullname) { %>
              <li>Please enter your full name.</li>
            <% } %>
            <% if (errors.account.badPassword) { %>
              <li>Please enter a password for your new account.</li>
            <% } %>
            <% if (errors.account.badRepeatPassword) { %>
              <li>Please re-enter your repeat password.</li>
            <% } %>
          </ul>

          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      <% } %>

      <form method="POST" action="/signup">
        <div class="container">
          <div class="row">
            <label for="fullname">Full name:</label>
          </div>
          <div class="row">
            <input type="text" class="form-control" id="fullname" name="fullname" placeholder="My Name" value="<%= refill.fullname %>" aria-label="Full name" />
          </div>
          <div class="row">&nbsp;</div>
          <div class="row">
            <label for="email">Email address:</label>
          </div>
          <div class="row">
            <input type="text" class="form-control" id="email" name="email" placeholder="email@address.com" value="<%= refill.email %>" aria-label="Email address" />
          </div>
          <div class="row">&nbsp;</div>
          <div class="row">
            <label for="password">Password:</label>
          </div>
          <div class="row">
            <input type="password" class="form-control" id="password" name="password" placeholder="mypassword" aria-label="Password" />
          </div>
          <div class="row">&nbsp;</div>
          <div class="row">
            <label for="password">Repeat password:</label>
          </div>
          <div class="row">
            <input type="password" class="form-control" id="repeat-password" name="repeatPassword" placeholder="mypassword" aria-label="Repeat password"/>
          </div>
          <div class="row">&nbsp;</div>
          <div class="row">
            <input class="btn btn-primary" type="submit" value="Signup" aria-label="Signup" />
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<% include parts/footer.ejs %>
